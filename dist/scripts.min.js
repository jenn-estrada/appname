angular.module("app",["ngRoute","ui.router"]).config(function(e,t){e.state("search",{url:"/search",template:"<search></search>"}).state("detailed",{url:"/detailed",template:"<detailed></detailed>"}).state("list",{url:"/list",template:"<list></list>"}),t.otherwise("/search")}),module.exports=function(){return{sass:"styles/main.scss",css:"styles/main.css",port:3e3}};var config=require("./gulp.config")(),del=require("del"),gulp=require("gulp"),sass=require("gulp-sass"),webserver=require("gulp-webserver"),concat=require("gulp-concat"),rename=require("gulp-rename"),uglify=require("gulp-uglify");function buildStyles(){return console.log("Compiling SASS --\x3e CSS"),del(config.css),gulp.src(config.sass).pipe(sass()).pipe(gulp.dest("styles"))}gulp.task("styles",function(){buildStyles()}),gulp.task("serve",function(){console.log("Serving to port 3000"),buildStyles(),gulp.src(["."]).pipe(webserver({port:config.port}))}),function(){angular.module("app").component("detailed",{templateUrl:"components/detailed.html",controller:function(e,t){e.showDetailed||t.go("search");this.item=e.showDetailed,this.goBack=function(){e.list&&0!==e.list.length?t.go("list"):t.go("search")}}})}(),function(){angular.module("app").component("list",{templateUrl:"components/list.html",controller:function(e,t){const r=5;var a=this;e.list&&0!==e.list.length||t.go("search");a.$onInit=(a.pages=function(e){if(!e)return[];var t=[];a.pageCount=Math.ceil(e.length/r);for(var n=0;n<a.pageCount;n++)t.push(e.slice(n*r,(n+1)*r));return t}(e.list),a.currentPage=0,void(a.list=a.pages[a.currentPage])),a.incPage=function(){a.currentPage<a.pageCount&&a.currentPage++,a.list=a.pages[a.currentPage]},a.decPage=function(){a.currentPage>0&&a.currentPage--,a.list=a.pages[a.currentPage]},a.backToSearch=function(){t.go("search")},a.openDetailed=function(r){e.showDetailed=r,t.go("detailed")}}})}(),function(){angular.module("app").component("search",{templateUrl:"components/search.html",controller:function(e,t,r){e.searchTerm=e.searchTerm||"Search",this.click=function(){e.searchTerm=""},this.search=function(){var a="https://data.cityofchicago.org/resource/cwig-ma7x.json",n=encodeURIComponent(e.searchTerm.toUpperCase().trim())||"";if(0===n.length)alert("Please enter a valid search term");else{a=a+"?aka_name="+n,t.get(a).then(function(t){t.data&&t.data.length>0?(e.list=t.data,r.go("list")):alert("No records found")}).catch(function(e){alert("Error calling API. Please try again.")})}}}})}();